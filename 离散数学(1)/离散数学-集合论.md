

# 离散数学-集合代数

女娲补天——cqqqwq

[TOC]

## 第九章 朴素集合论

对“个体”“总体”的深入认识

### 集合的概念与表示法

#### 集合，元素，属于，不属于

集合是不能精确定义的基本概念。

直观理解：把一些事物汇聚到一起组成一个整体

#### 集合的基本性质

互异性，无序性，可判定性（给出任意一个元素，都可以判断是否在这个集合内）

#### 集合的表示法

外延表示法：穷举，列举

内涵表示法：描述，概括，谓词表示法 $\{x | P(x)\}$ ，归纳定义法 $G=\{x | X = 1 \or (\exist y)(y \in G \and x = \{y\})\}$ (表示自然数集合)

#### 朴素集合论的问题

罗素悖论： $P = \{x | x \not \in x\}$  $P \not \in P \Lrarr P \in P ?$

康托悖论： 所有集合构成的集合？

Berry 悖论： 存在不能用xxx字符以内表达的自然数？

问题：某些东西不是集合。==>集合论的公理系统

### 特殊的集合与集合的关系

用谓词逻辑去描述

1. 集合的等价关系： $A = B \Lrarr (\forall x)(x \in A \lrarr x \in B)$ ， $A \neq B \Lrarr (\exist x) \lnot (x \in A \lrarr x \in B)$
2. 集合的“大小”关系： $A \subseteq B \Lrarr (\forall x)(x \in A \rarr x \in B)$ ， $A \subset B \Lrarr (A \subseteq B \and A \neq B)$
   1. 补充： $A = B \Lrarr (A \subseteq B \and B \subseteq A)$

3. 空集：$\emptyset = \{x \mid x \neq x\}$  【所有空集全相等】
4. 全集： $E= \{x \mid x = x \}$ （根据问题不同而不同）

### 集合的运算

1. 并： $A \cup B = \{x \mid x \in A \or x \in B\}$ ；交： $A \cap B = \{x \mid x \in A \and x \in B\}$
2. 差： $A - B = \{x \mid x \in A \and x \not\in B\}$ ；补： $-A = E-A  = \{x \mid x \not\in A \and x \in E\}$
3. 对称差： $A \oplus B = (A-B) \cup (B-A) = (A \cup B) - (A \cap B) = \{x \mid x \in A \overline{\vee} x \in B\}$
4. 广义并：$A$ 的所有元素的元素【直观理解：对于一个集合，拆掉两层括号，在把剩下的东西去重合并】$\bigcup A = \{x \mid (\exist z)(z \in A \and x \in z)\}$ 【$x$ 在某个 $z$ 中】
5. 广义交：$A$  的所有元素的公共元素。$\bigcap A = \{x \mid (\forall z)(z \in A \rarr x \in z)\}$【$x$ 在所有 $z$ 中】 注意： $\bigcap \emptyset$ 不存在！（罗素悖论）
6. 幂集： $P(A) = \{x \mid x \subseteq A\}$ 子集的个数 $2^n$  

注：优先级一元运算 > 二元运算 > 逻辑运算

### 集合运算的性质

#### 交和并

交换律，结合律，相互分配律，吸收率，幂等律，同一律，零律，

吸收律($A \cup (A \cap B) = A, A \cap (A \cup B) = A$)

De Morgan律：$A-(B \color\green{\cup} C) = (A-B) \color\red{\cap}(A - C), A-(B \color\red{\cap} C) = (A-B) \color\green{\cup}(A - C)$

补余律： $A \cap -A = \emptyset, A \cup -A = E$

补律：$-\emptyset = E, -E = \emptyset$；双补律 ：$-(-A) = A$

#### 差集

$A-B = A - (A \cap B)$ 【用在增多元素？】

$A - B = A \cap -B$  【常用，用于消去 $-$】

$A\cup(B-A) = A \cup B$ 【用在增多元素？】

$A \cap (B-C) = (A \cap B) - C$

#### 对称差

交换律，结合律，$\cap$ 对其分配律($A \cap(B \oplus C) = (A \cap B) \oplus(A \cap C)$)（其他分配律？），同一律，零律

试证明：

$A \cup (B \oplus C) = -(A \cup B) \oplus (A \cup C)$（不太对？？）

证明如下：

？？？？？？？

吸收律： $A \oplus (A \oplus B ) = B$

#### 子集

$A \subseteq B \Rarr (A \cup C) \subseteq(B \cup C), $$A \subseteq B \Rarr (A \cap C) \subseteq (B \cap C)$
$(A \cap B) \and C \cap D \Rarr (A \cup C) \subseteq (B \cup D);\; \cdots \Rarr (A \cap C ) \subseteq (B \cap D); \; \cdots \Rarr (A-D) \subseteq (B-C)$
$C \subseteq D \Rarr (A-D) \subseteq (A-C)$

#### 幂集

$A \subseteq B \Lrarr P(A) \subseteq P(B)$
$A = B \Lrarr P(A) = P(B)$
$P(A) \in P(B) \Rarr A \in B$
$P(A) \cap P(B) = P(A \cap B),P(A) \cup P(B) \color\red{\subseteq} P(A \cup B) $
$P(A-B) \subseteq (P(A) - P(B)) \cup \{\emptyset\}$

#### 广义交与广义并

$A \subseteq B \Rarr \bigcup A \subseteq \bigcup B; \; A \subseteq B \Rarr \bigcap B \subseteq \bigcap A$
$\bigcup(A \cup B) = (\bigcup A) \cup (\bigcup B), \bigcap(A \cup B) = (\bigcap A) \cap (\bigcap B)$ 
$\bigcup(P(A)) = A, P(\bigcup A) \color\red{\neq} A$



### 有限集合的基数

#### 定义

存在 $n \in \mathbf N$ ， $A$ 的元素个数与 $\{x \mid x \in \mathbf N \and  x < n\} = {0,1,2,\cdots ,n-1}$ 的大小相同，称 $A$ 的（大小）对应的基数为 $|A|=n$ 或 $\text{card}(A)=n$  。

#### 性质

$|P(A)| = 2^n, |A \times B| = |A| \cdot B$
$|A \cup B | \geq |A| + |B|, |A \cap B| \leq \max(|A|,|B|)$
$|A - B| \geq |A| - |B|, |A \oplus B| = |A| + |B| - 2|A \cap B|$

#### 容斥原理

若 $n \in \mathbf N$ 且 $n > 1$，$A_1,A_2, \cdots, A_n$ 为有限集合，

则 $|A_1 \cup A_2 \cup \cdots \cup A_n| = \sum\limits_{1 \le i \le n}|A_i| - \sum\limits_{1 \le i < j \le n}|A_i \cap A_j| \\ + \sum\limits_{1 \le i < j < k \le n}|A_i \cap A_j \cap A_k| + \cdots + {(-1)}^{n-1}|A_1 \cap A_2 \cap \cdots \cap A_n|$

证明：贡献法

使用：一般反着用

## 第十章 关系

【本质上反映了序】

### 有序对与笛卡尔积

#### 定义

$\lang x,y \rang = \{\{x\},\{x,y\}\}$ [只是一种定义，核心是满足 $(\forall a )(\forall b )(\forall c )(\forall d)(\lang a,b \rang=\lang c,d \rang \rarr (a = c ∧ b = d))$]
$\lang x_1,x_2, \cdots, x_n\rang = \lang \lang x_1,x_2,\cdots,x_{n-1} \rang ,x_n \rang$

$A \times B = \{\lang a,b\rang  \mid a \in A \and b \in B\}$
$A_1 \times A_2 \times \cdots \times A_n = \{ \lang a_1,a_2,\cdots,a_n\rang\ \mid a_i \in A_i,i= 1,2 ,\cdots ,n\}$

#### 性质

$A \times (B \cup C) = (A \times B) \cup (A \times C), A \times (B \cap C) = (A \times B) \cap (A \times C)$
$(B \cup C) \times A   = (B \times A) \cup (C \times A),  (B \cap C) \times A = (B \times A) \cap (C \times A)$
$A \subseteq B \Lrarr (A \times C \subseteq B \times C) \Lrarr (C \times A \subseteq C \times B)$
$(A \times B \subseteq C \times D) \Lrarr (A \subseteq C \and B \subseteq D)$

只对交合并满足分配律

### 关系的概念

#### 二元与n元关系

空集 或 集合非空且集合内的所有元素都是二元有序对，记作 $R$ 
集合 $A$ 到 $B$ 上的二元关系： $A \times B$ 的任何一个子集
集合 $A$ 上的二元关系：$A \times A$ 的任何一个子集

$\lang x,y \rang \in R$ 记作 $xRy$；否则记作 $x\not{R}y$。

从 $A_1$ 到 $A_n$ 上的一个 $n$ 元关系： $A_1 \times A_2 \times \cdots \times A_n$ 的子集

#### 特殊的二元关系：

对定义在 $A$ 上的二元关系

恒等关系： $\{\lang x,y\rang \mid x = y\}$

全域关系： $\{\lang x,y\rang \mid x \in A \and y \in A\} = A \times A$

空关系： $\emptyset$

#### 关系的性质

domain: $\{x \mid (\exist y)(\lang x,y \rang \in R)\} = \text{dom}(R)$ 定义域

range: $\{y \mid (\exist x)(\lang x,y \rang \in R)\} = \text{ran}(R)$ 值域

field: $\text{dom}(R) \cap \text{ran}(R) = \text{fld}(R)$ 总体的域

#### 关系的表示法

只能表示有限的集合上的关系。

集合表示法。

关系矩阵：$M(R) = [r_{ij}]_{m \times n}$ $r_{ij} = \left\{\begin{aligned}1,\;\; iRj\\0,\;\; i \not R j\end{aligned}\right.$

关系图：如果 $iRj$ ，就从 $i$ 向 $j$ 连一条有向边。

### 关系的运算与性质

#### 合成与逆

| 名称\表示法 | 集合                                                         | 关系矩阵                                 | 关系图           |
| ----------- | ------------------------------------------------------------ | ---------------------------------------- | ---------------- |
| 逆          | $R^{-1} = \{\lang x,y\rang\ \mid \lang y,x \rang \in R \}$   | $M(R^{-1}) = M(R)^{T}$                   | 所有的边改变方向 |
| 合成        | $S \circ R = \{\lang x,y \rang \mid (\exist z)(\lang x,z \rang \in R \and \lang z,y \rang \in S)\}$ | $M_{S \circ R} = M_R \cdot M_S$ [逻辑乘] | 加一层           |

幂： $R^n = \left\{ \begin{aligned}I_A&,n=0 \\ R^{n-1} \circ R&,n \ge 1\end{aligned}\right.$

幂的性质满足通常自然数下的幂的性质。

#### 限制与象

$R \uarr A = \{\lang x,y \rang \mid x \in A \and \lang x,y \rang \in R\}$ 从 $A$ 集合的所有出边[是一个关系]

$R[A] = \text{ran}(R \uarr A)$ 从 $A$ 能到达的点[是一个值域/ $B$ 的子集]

简单性质可以自行推导，如 $R \uarr(A \cup B) = R \uarr A \cup R \uarr B$

#### 优先级

一元 > 多元；关系 > 集合



#### 关系的性质

| 名称\    | 逻辑语言                                                     | 关系图               |                           关系矩阵                           |
| -------- | ------------------------------------------------------------ | -------------------- | :----------------------------------------------------------: |
| 自反性   | $(\forall a \in A)(a R a) \Lrarr I_a \subseteq R$            | 全有自环             |                          对角线全1                           |
| 非自反性 | $(\forall a \in A)(a \not R a) \Lrarr I_A \cap R =\emptyset$ | 全无自环             |                          对角线全0                           |
| 对称性   | $(\forall a,b \in A)(aRb \rarr bRa) \Lrarr R = R^{-1}$       | 无单向边             |                           对称矩阵                           |
| 反对称性 | $(\forall a,b \in A)(aRb \and bRa \rarr a = b) \Lrarr R \cap R^{-1} \subseteq I_A$ | 无双向边【除了自环】 | 反对称矩阵【除对角线，每一对关于对角线对称的位置，两侧只能有一边有1】 |
| 传递性   | $(\forall a,b,c \in A)(aRb \and bRc \rarr aRc) \Lrarr R \circ R \subseteq R$ | 不好说               |                           更不好说                           |

重要关系的性质以及运算对关系的保持。

![image-20210105190848710](10-1.png)

![image-20210105191135894](10-2.png)

### 闭包 = 对某集合满足某性质的最小扩充

$R$ 的幂的循环与有限性

#### 定义

设 $R$ 是某非空集合 $A$ 上的关系，若 $A$ 上有另一个关系 $R'$ 满足 

1. $R'$ 具有某性质
2. $R \subset R'$
3. $R'' 满足该性质 \and R \subseteq R'' \rarr R' \subseteq R''$

则称 $R'$ 为 $R$ 的该性质闭包。

该性质指自反性(r)，对称性(s)，传递性(t)。

#### 闭包的性质

$rs = sr,rt = tr,st \subset ts$
$R_1 \subseteq R_2 \Rarr \left\{\begin{aligned}r(R_1) \subseteq r(R_2)\\s(R_1) \subseteq s(R_2)\\t(R_1) \subseteq t(R_2)\end{aligned}\right.$
$r(R_1 \cup R_2) = r(R_1) \cup r(R_2),\;\;s(R_1 \cup R_2) = s(R_1) \cup s(R_2), \;\; \color\red t(R_1 \cup R_2) {\supseteq}  t(R_1) \cup t(R_2)$

$R 自反 \Rarr r(R),s(R),t(R) 自反$
$R 对称 \Rarr r(R),s(R),t(R) 对称$
$R 传递 \Rarr r(R),\;\;\;\;\;\;\;\;\; t(R) 传递$（对称会产生大量的自环需求）

#### 闭包的构造

| 名称            | 集合表示 | 关系图   | 关系矩阵  |
| --------------- | -------- | -------- | --------- |
| 自反闭包 $r(R)$ | $r(R) = R \cup I_A$    | 加自环 | $M_r = M+I$ |
| 对称闭包 $s(R)$ |  $s(R) = R \cup R^{-1}$       | 加反向边 | $M_s = M + M^T$ |
| 传递闭包 $t(R)$ |   $t(R) = \bigcup\limits_{i=1}^{+\infty}R^{i}$     | 不好说   | $M_t = \sum\limits_{i=1}^{+\infty}M^i$ |

注：bool矩阵的加法就是或

关于传递闭包的证明：

1. 先证明 $(\forall i)(R^i \subseteq t(R)),i = 1,2, \cdots n$ 【归纳证明】
2. 再证明 $(\exist i)(t(R) \subseteq R^i),i = 1,2, \cdots n$【等价变换成谓词，再用一次分配律】

注： $|A| = n$ ， $t(R) = \bigcup\limits_{i=1}^{n} R^i$

#### Warshall 算法 = 基于 dp 求传递闭包

```
Warshall(A[1...n][1...n]):
	let R(?) = [1...n][1...n]
	R(0) = A
	for(k: 1->n):
		for(i: 1->n):
			for(j: 1->n):
				R(k)[i][j] = R(k-1)[i][j] or (R(k-1)[i][k] and R(k-1)[k][j])
	return R(n)
```

### 等价关系与划分

#### 等价关系与等价类

集合 $A$ 上的等价关系 $R$ ：集合 $A$ 上自反 & 对称 & 传递的关系 $R$

$x$ 关于 $R$ 的等价关系 $[x]_R$ ： $[x]_R = \{y \mid y \in A \and xRy\}$ （$x$ 称为表示元素）

性质：
1. $[x]_R \neq \emptyset, [x]_R \subseteq A$
2. $xRy \Lrarr [x]_R = [y]_R, \; \; x \not R y \Lrarr [x]_R \cap [y]_R = \emptyset$

商集： $A / R = \{y \mid (\exist x)(y = [x]_R)\}$【所有R上等价类的并】

则有： $A = \bigcup (A / R)$

#### 划分 = 不重不漏

对于非空集合 $A$，称集合 $S$ 为 $A$ 的一个划分，若：

1. $S$ 的元素是 $A$ 的子集：  $(\forall x \in S)(x \subseteq A)$
2. $S$ 的元素非空：$\emptyset \not \in S$
3. $S$ 的元素无交：$(\forall x,y \in S)(x \cap y = \emptyset)$
4. $S$ 的元素并成 $A$ $\bigcup S = A$

#### 等价类与划分一一对应

![](10-4.png)

### 相容关系与覆盖

#### 相容关系与相容类

集合 $A$ 上的相容关系 $R$ ：集合 $A$ 上自反 & 对称 ~~& 传递~~的关系 $R$

$x$ 关于 $R$ 的相容类 $C$ ： $C = \{x \mid x \in A \and (\forall y)(y \in C \rarr xRy)\}$ （$x$ 称为表示元素）

关系图：每个联通块都是完全子图；或每个联通块都是完全多边形/一条连线的端点/单点。均未考虑自环。

最大相容类：加入任一新元素均不再组成相容类 & 不是任意相容类的真子集；

最大相容类的存在性：任何相容类都可以扩展为一最大相容类，按最小的下标一个个加

#### 覆盖

对于非空集合 $A$ ，若存在集合 $\Omega$ 满足：

1. $\Omega$ 的元素是 $A$ 的子集： $(\forall x \in \Omega)(x \subseteq A)$
2. $\Omega$ 的元素非空： $\emptyset \not \in \Omega$
3. $\Omega$ 的元素并成 $A$： $\bigcup \Omega = A$
3. 不需要每$\Omega$的每个元素交为空集（可以有重叠）

完全覆盖：所有最大相容类的集合：$C_R(A)$ 是唯一的

#### 相容关系与（完全）覆盖

![](10-3.png)

### 偏序关系

#### 弱偏序/半序关系与强偏序/拟序关系

集合 $A$ 上的弱偏序/半序关系 $R$ ：集合 $A$ 上自反 & **反**对称 & 传递的关系 $R$ 。

特别地，记 $xRy$ 为 $x \leq y$ ，读作 $x小于等于y$

集合 $A$ 上的强偏序/拟序关系 $R$ ：集合 $A$ 上 **非** 自反 & （**反**对称） & 传递的关系 $R$ 。

特别地，记 $xRy$ 为 $x < y$ ，读作 $x小于y$

拟序($R_1$)与半序($R_2$)的转化： $R_1 \cup R_1^0 = R_2; \;\;R_2 - R_2^0 = R_1$

偏序集：$\lang A,R\rang$，$A$ 是集合， $R$ 是关系

#### 偏序关系的图形表示：哈斯图

核心：省略自环， $xRy$ 指向上方，只画不能被传递出来的边

盖住关系：对偏序集 $\lang A, \preccurlyeq \rang$ ，如果 $x \preccurlyeq y,x \neq y$ ，且不存在 $z \neq x \and z \neq y \and x \preccurlyeq z \and z \preccurlyeq x$ ，则称 $y$ 盖住 $x$

直观理解：不存在中间还有其他点的路径

#### 偏序关系中的特殊元素

##### 最元

##### 极元

##### 界

![image-20210105235422690](10-5.png)

#### 全序关系 

任意元素都可比的偏序关系，即 $(\forall x,y \in A)(x \preccurlyeq y \or y\preccurlyeq x)$

又叫线序关系，在哈斯图上是一条“链”

#### 链 & 反链

链：子集内所有元素均可比

反链：子集内所有元素均不可比

链/反链的长度：子集的元素个数

#### 良序关系

任何非空子集都有最小元；

性质：**良序集 一定是 全序集；有限大小的全序集 一定是 良序集**；$N^{*}$ 是良序集。

良序定理：任意的集合都可以良序化，即赋予集合一个良序关系（是这样的，$\mathbf R$上也可以）。

![image-20210106000251337](10-6.png)

## 第十一章 函数

### 函数的概念

#### 函数的定义

$f$ 为从 $A$ 到 $B$ 上的函数：从集合 $A$ 到集合 $B$ 的关系 $f$ ，如果满足：

+ 直观描述：对于 $A$ 中的每一元素 $x$ ，都存在 $B$ 中的唯一元素 $y$，使 $xfy$

+ 逻辑描述：
1. $(\forall x)(\forall y_1)(\forall y_2)((xfy_1 \and xfy_2) \rarr y_1 = y_2)$
2. $(\forall x)(x \in A \rarr (\exist y)(y \in B \and xfy))$

+ 关系矩阵描述：每**行**只有一个 $1$

+ 关系图描述：每个节点只出发一条边

记作 $f: A \rarr B$， 若 $xfy$ ，记作： $f: x \mapsto y$ 或 $f(x)= y$

$A_1 \subseteq A$ 在 $f$ 下的**象**： $f[A_1] = \{y \mid (\exist x)(x \in A_1 \and y = f(x))\}$。$f[A]$ 称为函数 $f$ 的象。

$B_1 \subseteq B$ 在 $f$ 下的**（完全）原象**： $f^{-1}[B_1] = \{x \mid x \in A \and f(x) \in B_1\}$

从 $A$ 到 $B$ 的所有函数的集合： $A_B = \{f \mid f : A \rarr B \}$。若 $|A|=m,|B|=n$，则 $|A_B| = n^m$ 。

注： $\emptyset$ 是函数！ $\emptyset_{\emptyset} = \{\emptyset\}$，$\emptyset_{B} = \{\emptyset\}$，$A_\emptyset = \emptyset(也就说，这样的函数不存在)$ 

#### 特殊的函数

设 $f: A \rarr B$：
1. 满射：$\text{ran}(f) = B$；单射：$(\forall x_1)(\forall x_2)(f(x_1) = f(x_2) \rarr x_1 = x_2)$；双射：单且满
2. 常函数： $(\exist y)(y \in B \and (\forall x)(x \in A \rarr f(x) = y))$，$f[A] = \{y\}$
3. 恒等函数：$f = I_A$

单调函数：...

$A$ 上的 $n$ 元运算：$f: A^n \rarr A$ 

泛函：$F: A \rarr B_C$

特征函数：$\chi_A: E \rarr \lbrace 0,1\rbrace $ 	 $$\chi_A(a)= \begin{cases} 1 , a \in A \\ 0, a \notin A \end{cases}$$

典型映射/自然映射： $g: a \in A \rarr [a]_R \in A/R$

### 选择公理

对任意的关系 $R$ ， 都存在函数 $f$ 使 $f \subseteq R$ 且 $\text{dom}(f) = \text{dom}(R)$

### 函数的运算

#### 合成

$(f \circ g) = f(g(x))$

性质：
1. $f, g$ 满，单，双 $\rarr$ $f \circ g$ 满，单，双
2. $f \circ g$ 满 $\rarr$ $f$ 满
3. $f \circ g$ 单 $\rarr$ $g$ 单
4. $f \circ g$ 双 $\rarr$ $g$ 单，$f$ 满
5. $f \circ I_A = I_A \circ f$

#### 求逆

$f,g$ 互为逆函数：$f \circ g = I_B, g \circ f = I_A$。记作 $g = f^{-1}$

入要单，出要满
单看左，满看右

性质：$(f^{-1})^{-1} = f$



## 第十二章 基数与实数集合

对我们所知的离散的数的进一步扩展。

### 从自然数到实数

自然数的本质：给集合数数

#### 自然数

$0 = \emptyset$

$n+1 = n^{+} = n \cup \{n\} = \{0,1, \cdots , n\}$ 

$\mathbf N = \{x \mid \ x = \emptyset \or x - n \in \mathbf N\}$ ？

或者使用集合论公理系统的某一条

#### 整数

$\mathbf Z_{+} = \mathbf N - \{0\}$
$\mathbf Z_{-} = \{\lang 0,n \rang \mid n \in Z_{+}\}$
$\mathbf Z = Z_{+} \cup \{ 0 \} \cup Z_{-}$

负数： $- n = \lang 0,n \rang, -0 = 0, - \lang 0,n \rang = n$
序： $x \leq_{_\mathbf Z} y \Lrarr \cdots, x \le_{_\mathbf Z} y \Lrarr \cdots$
运算： $a +_{_{\mathbf Z}}b =_{_\mathbf Z} \cdots , a \cdot_{_\mathbf Z} b =_{_\mathbf Z} \cdots$

#### 有理数

预备：$\mathbf Z$ 上分式的集合。 $Q_1 = Z \times (Z - \{ 0 \})$

$Q_1$ 上的等价关系： $\lang a,b \rang , \lang c,d \rang \in Q_1$ ， $\lang a,b \rang \cong_{_\mathbf Q} \lang c,d \rang \Lrarr a\cdot c =_{_\mathbf Z} b\cdot d$ 

衍生出有理数集合 $Q = Q_1/\cong_{_\mathbf Q}$ ，代表元素一般是 $a/b$ ，其中 $a,b 互素$。
负数：$\cdots$ 
序关系：$\cdots$
运算： $\cdots$

#### 实数

预备：基本函数（某项以后单调不减的数列）及其集合 $R_1$

基本函数 $f: \mathbf N \rarr \mathbf Q$ 满足：

1. 有界： $(\exist x)(x \in \mathbf Q \and (\forall b )(n \in \mathbf N \rarr |f(n)| < x))$
2. 某项起单调不减： $(\exist n)(n \in \mathbf N \and (\forall m)(\forall i)((m \in \mathbf N \and i \in \mathbf N \and n \leq m \and n \leq i \and m \leq i) \rarr (f(m) \leq f(i))))$

特殊的基本函数(常函数)： $f(n) = r, r \in \mathbf Q$

$R_1$ 上等价关系 ：$$f \cong_{_\mathbf R} g \Lrarr (\forall \varepsilon)((\varepsilon \in \mathbf Q \and \varepsilon > 0) \rarr \ (\exist n)(n \in \mathbf N \and (\forall m)((m \in \mathbf N \and n \leq m) \rarr |f(m) - g(m)| < \varepsilon )))$$

实数集合： $R = R_1/ \cong_{\mathbf R}$

有理数：等价类中存在常值函数；无理数：$\cdots$ 不存在 $\cdots$.
负数： $\cdots$
序： $\cdots$
运算： $\cdots$

### 集合的等势

按照数量多少划分的集合等价类

#### 概念

集合 $A,B$ 等势：存在从 $A$ 到 $B$ 的双射函数，记作 $A \approx B$ ，否则记作 $\lnot A \approx B$ 。

#### 性质

例： $\mathbf N \approx \mathbf Z \approx \mathbf Q \approx \mathbf Z \times \mathbf Z$，$\mathbf R \approx \mathbf R^{+} \approx [0,1] \approx (0,1)$， $P(A) \approx A_2 = A_{\{0,1\}}$

例：对于 $[0,1]$ 和 $(0,1)$ ：希尔伯特饭店法腾出来两个位置放 $0$ 和 $1$ 。

##### 康托定理(1890)

1. $\lnot \mathbf N \approx \mathbf R$
2. 对任意集合 $A$ ： $\lnot A \approx P(A)$

证明：

第一问：
Cantor's Diagonal Method(1891)

第二问：
令 $g:A \rarr P(A)$ ，
令 $B= \{ x \mid x \in A \and x \not \in g(x) \} \Rarr B \subseteq A \Rarr B \in P(A)$；
$x \in B \Rarr x \not \in g(x) \Rarr B \neq g(x) \Rarr B \not \in \text{ran}(g)$；
则 $B \in P(A) \and B \not \in \text{ran}(g)$，故 $g$ 不可能是满射。

### 集合的基数

定义

$\text{card}(A)$ 为集合 $A$ 的基数。

等价关系：$\text{card}(A) \color\red{=} \text{card}(B) \Lrarr A \approx B$。

#### 基数的比较

集合 $L$ 优势于 $K$：存在从 $K$ 到 $L$ 的单射函数

基数 $k = \text{card}(K)$ 不大于 $l = \text{card}(L)$，记作 $k \leq l$： $L$ 优势于 $K$

基数 $k = \text{card}(K)$ 小于 $l = \text{card}(L)$，记作 $k < l$： $k \leq l \and k \neq l$


“不大于”和“小于”关系的性质：
1. 具有自反，传递性（反对称性）
2. 全域可比
3. $k \leq l \and l \leq k \Rarr k = l$ （施罗德-伯恩斯坦定理）

#### 基数的算术运算

对任意的基数 $k = \text{card}(K), l = \text{card}(L)$，有：
1. $k+l = \text{card}(K \cup L)$
2. $k \cdot l = \text{card}(K \times L)$
3. $k^l = card(L_K)$

运算法则：
1. 与自然数完全一致
2. 无限部分具有一些特殊的性质

#### 有限与无限


##### 有限集合及有限基数

若 $A \approx n$，则记 $\text{card}(A) = n$，并称 $A$ 为有限集合。

##### 无限集合及无限基数

任何与自己的真子集等势的集合是无限集合。常见无限集合的基数： $\text{card}(N) = \color\red{\aleph_0}, \text{ card}(R) = \color\green{\aleph_1}$

结合基数的运算，有： $\mathbf R \approx \mathbf N_2 \approx P(N) \;\;\Rarr\;\; \aleph_1 = 2^{\aleph_0}$

证明：二进制小数与 $[0,1]$ 之间的实数可以一一对应。（？这凭什么）

更一般地，有 $\aleph_i+1 = 2^{\aleph_{i}}$。

注： $\aleph_0$ 是最小的无限基数。证明采用“一个一个选，必然都能选出来”（被选择公理保证），因此就可以构造一个 $\mathbf \rarr K$ 的函数。

可数集合： $\text{card}(K) \leq \aleph 0$

性质：除了幂集之外，可数的任意其他运算全都保持可数性。

#### 基数运算对比较的保持

和自然数一模一样，不抄了。

注意的是，通过比较可以导出两个不同形式的运算等价

##### 扩充部分：无限基数的特殊性质

一个引理：对于无限基数 $k$ ，有 $k \cdot k = k$ 。

结论：对基数 $k,l$ ，若 $k \leq l \and k \neq 0$ 且 $\color\red{l\  \large是无限基数}$ ；那么 $k$ 和 $l$ 的加法/乘法/乘方，都可以把 $k$ 当作 $2$ 处理，最终吸收到 $l$ 上/从 $l$ 升一级。

我愿称之为：**无限世界中再微小的距离，也是有限的我们不可逾越的。**

我愿称之为：**你只要比一个无限小，无论小的多么少，都是无限的距离。**

例子： $\aleph_0 + \aleph_1 = \aleph_0 \cdot \aleph_1 = \aleph_1^{\aleph_0} = \aleph_1$

例子：$k^k = 2^k$ Pf. $2^k \leq k^k \leq (2^k)^k \leq 2^{k \cdot k}\leq 2^k$

#### 连续统假设：

已知的基数按照序排列：

$$
0,1,\cdots,n,\cdots, \aleph_0,\aleph_1,\cdots,\aleph_i,\aleph_{i+1},\cdots
$$

在 $\aleph_0$ 和 $\aleph_1$ 之间还有其他基数吗？

不可知，已经有人证明，在现有 ZFC 公理系统内连续统假设不可证明，也不可证伪。

*不可说的，只可不说。*



## 附录

### 传递集合

直观理解： $A$ 的任意元素的元素都是A的元素

逻辑表达： $A 是传递集合 \iff (\forall x)(\forall y)((x \in y \and y \in A) \rarr x \in A)$

性质：

1. $A 是传递集合 \iff A \subseteq P(A) \iff P(A) 是传递集合$
2. $A 是传递集合 / A 的元素都是传递集合 \implies \bigcup A 是传递集合$
3. $A 是传递集合 / A 的元素都是传递集合 \implies \bigcap A 是传递集合$
4. $A 是传递集合 \implies \emptyset \in A$（由正则公理，A有极小元）

### 集合论的公理系统

基本思想：世界上只有集合；任意集合的所有元素都是集合；

目的：集合的存在性，集合合法性

ZF/ZFC  公理系统
**外延公理**：两个集合相等的充要条件是它们恰好有同样的元素。【证明两个集合相等】

$$(\forall x)(\forall y)(x = y \lrarr (\forall z)(z \in A \lrarr z \in B))$$

**空集存在公理**：存在不包含任何元素的集合。【构造空集 $\emptyset$】

$(\exist x)(\forall y)(y \not \in x)$

**无序对集合存在公理**：对任意集合x,y,存在几个集合z，其元素恰好为x，y。【构造形如$\lbrace \emptyset , \lbrace \emptyset \rbrace \rbrace$的集合，但只能得到基数为2的集合】

$(\forall x)(\forall y)(\exist z)(\forall u)(u \in z \lrarr ( (u=x) \and (u=y)))$

**并集合公理**：对任意集合x,存在一个集合y，它的元素恰好为x的元素的元素。【广义并的定义，构造任意基数的集合】

$(\forall x)(\exist y)(\forall z)(z \in y \lrarr (\exist u)(z \in u \and u \in x))$

**子集公理模式（存在公理模式）**：对于任意谓词公式$P(z)$,对任意集合x，存在一个集合y，它的元素z恰好既是x的元素又能使$P(z)$成真【构造形如$A \cup B,A\cap B,A-B$这样的集合，还可以证明万有集不存在（康托悖论）】

$(\forall x)(\exist y)(\forall z)(z \in y \lrarr (z \in x \and P(z)))$

**幂集合公理**：对任意集合x，存在集合y，它的元素恰好是x的子集。【幂集的存在性】

$(\forall x)(\exist y)(\forall z)(z \in y \lrarr (\forall u)(u \in z \rarr u \in x))$

**正则公理**：对任意非空集合x，存在x的一个元素，它和x不相交。【任一非空集合都要有极小元，可以证明奇异集合不存在，证明不存在包含自己的集合（即万有集不存在），还可以证明传递集合一定包含空集】

$(\forall x)(x \neq \emptyset \rarr (\exist y)(y \in x \and (x \cap y = \emptyset)))$

**无穷公理**：存在由所有自然数组成的集合。【构造出第一个无穷集合】

$(\exist x)(\emptyset \in x \and (\forall y)(y \in x \rarr (y \cup \{y\} \in x)))$ 

**替换公理模式**：对任意的谓词公式$P(x,y)$,如果对任意的x有唯一的y使得$P(x,y)$成真，那么对所有集合t就存在一个集合s，使得s中的元素y恰好使t中元素x所对应的那些y。【集合一一映射确定集合】

$(\forall x)(\exist ! y)P(x,y) \rarr (\forall t)(\exist s)(\forall u)(u \in s \lrarr (\exist z)(z \in t \and P(z,u)))$
$=== (\forall x)(\exist y)(P(x,y) \and (\forall z)(P(x,z) \rarr z = y)) \\\rarr (\forall t)(\exist s)(\forall u)(u \in s \lrarr (\exist z)(z \in t \and P(z,u)))$

**选择公理**：对任意关系R，存在一个函数F，F是R的子集，且F和R的定义域相等【不得不认的状态】

$(\forall 关系 R)(\exist 函数 F)(F \subset R \and dom(R) = dom(F)))$

$=== (\forall x)(((\forall y)(y \in x \rarr y \neq \emptyset) \\\and (\forall y)(\forall z)((y \in x \and z \in x \and y \neq z) \rarr (y \cap z = \emptyset))) \\ \rarr (\exist u)(\forall y)(y \in x \rarr (\exist !t)(t \in y \and t \in u)))$

[合法谓词的定义？什么是合法的谓词都没有解决。]
[我们何以知道 $\{y\}$ 是一个集合？上面好像有一个加括号定理？]

### 第二类斯特林数

$n$ 个有区别的球放到 $m$ 个无区别的盒子中，不能有空盒

递推式： $S(n,m) = m S(n-1,m) + S(n-1,m-1)$

意义：
1. 第一个球不独占盒子，那么就先放其他的，再放第一个
2. 第一个球独占一个盒子，再放其他的。

展开式：$S(n,m) = \frac{1}{m!} \sum\limits_{k=1}^{m}C(m,k)(-1)^k(m-k)^n$

证明：

考虑盒子不同，用容斥原理考察“无空盒”的情况（无空盒 = 所有 - 枚举空盒个数）

全集 $|S| = m^n$

用 $A_i$ 表示第 $i$ 个盒子为空， $i = 1,2,\cdots,n$

$|A_i| = (m-1)^n$ 共有 $C(m,1)$ 个
$|A_i \cap A_j| = (m-2)^n$ 共有 $C(m,2)$ 个
$\cdots$
$N = |\overline{A_1} \cap \overline{A_2} \cap \cdots \cap \overline{A_n}| \\ = m^n - C(m,1)(m-1)^n + \cdots + (-1)^m C(m,m)(m-m)^n \\ = \sum\limits_{0}^{m} (-1)^k C(m,k)(m-k)^n$
$S(n,m) = \frac{1}{m!} \sum\limits_{k=0}^{m}C(m,k)(-1)^k(m-k)^n$

因为 $S(m,m) = 1$ ，因此 $m! = \sum\limits_{k=0}^{m} (-1)^k C(m,k)(m-k)^m$

### 集合A上可构造的等价类个数

设$|A_k|=k$，$A_k$上可构造的等价类个数为$B_k$个，则
$$
B_k=C(k-1,0)B_{k-1}+C(k-1,1)B_{k-2}+\cdots +C(k-1,k-1)B_{0}
$$
意义：对于k个元素，取其中某个元素，有i个元素和其处于同一个等价类$(0<=i<=k-1)$，则剩下的k-i-1个元素构成等价类个数为$B_{k-i-1}$个

### Dilworth 定理

最长链的长度 = 最少反链划分个数

最长反链长度 = 最少链划分个数



